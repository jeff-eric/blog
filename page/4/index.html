<!-- build time:Tue Nov 26 2019 14:32:24 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-CN,zh-HK,zh-TW,en,default"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css"><link rel="stylesheet" href="/blog/css/main.css?v=7.0.1"><link rel="apple-touch-icon" sizes="180x180" href="/blog/uploads/avatar.jpg?v=7.0.1"><link rel="icon" type="image/png" sizes="32x32" href="/blog/uploads/avatar.jpg?v=7.0.1"><link rel="icon" type="image/png" sizes="16x16" href="/blog/blog/uploads/avatar.jpg?v=7.0.1"><link rel="mask-icon" href="/blog/uploads/avatar.jpg?v=7.0.1" color="#222"><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/blog/",scheme:"Gemini",version:"7.0.1",sidebar:{position:"left",display:"always",offset:12,onmobile:!1,dimmer:!1},back2top:!0,back2top_sidebar:!0,fancybox:!0,fastclick:!0,lazyload:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta property="og:type" content="website"><meta property="og:title" content="纯天然绿色学渣"><meta property="og:url" content="https:&#x2F;&#x2F;jeff-eric.github.com&#x2F;blog&#x2F;page&#x2F;4&#x2F;index.html"><meta property="og:site_name" content="纯天然绿色学渣"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://jeff-eric.github.com/blog/page/4/"><script id="page.configurations">CONFIG.page={sidebar:""}</script><title>纯天然绿色学渣</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?bb5d4f8207d7c2bd1aa936180430bbaa";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-home"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/blog/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">纯天然绿色学渣</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button aria-label="切换导航栏"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section">&lt;i class=&quot;menu-item-icon fa fa-fw fa-home&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;首页</a></li><li class="menu-item menu-item-tags"><a href="/blog/tags/" rel="section">&lt;i class=&quot;menu-item-icon fa fa-fw fa-tags&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;标签&lt;span class=&quot;badge&quot;&gt;28&lt;&#x2F;span&gt;</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section">&lt;i class=&quot;menu-item-icon fa fa-fw fa-th&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;分类&lt;span class=&quot;badge&quot;&gt;12&lt;&#x2F;span&gt;</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section">&lt;i class=&quot;menu-item-icon fa fa-fw fa-archive&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;归档&lt;span class=&quot;badge&quot;&gt;42&lt;&#x2F;span&gt;</a></li><li class="menu-item menu-item-tools"><a href="/blog/tools/" rel="section">&lt;i class=&quot;menu-item-icon fa fa-fw fa-tree&quot;&gt;&lt;&#x2F;i&gt; &lt;br&#x2F;&gt;工具</a></li><li class="menu-item menu-item-search"><a href="javascript:;" target="_blank" rel="noopener" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><section id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/%E6%B1%87%E7%BC%96%E7%9A%84%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E5%92%8C%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E7%9A%84%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E5%92%8C%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0/" class="post-title-link" itemprop="url">汇编的有符号数和无符号数</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:43:41 / 修改时间：19:45:26" itemprop="dateCreated datePublished" datetime="2019-03-08T19:43:41+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/%E6%B1%87%E7%BC%96/" itemprop="url" rel="index"><span itemprop="name">汇编</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E7%9A%84%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E5%92%8C%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E7%9A%84%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E5%92%8C%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E7%9A%84%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E5%92%8C%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0/" class="leancloud_visitors" data-flag-title="汇编的有符号数和无符号数"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><p>定义单位长度为：1 byte</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">6     </span><br><span class="line">        原码：    0 0 0 0 0 1 1 0    //    06</span><br><span class="line">        反码：    0 0 0 0 0 1 1 0    //    06</span><br><span class="line">        补码：    0 0 0 0 0 1 1 0    //    06</span><br><span class="line"></span><br><span class="line">-7</span><br><span class="line">        原码：    1 0 0 0 0 1 1 1    //    87    </span><br><span class="line">        反码：    1 1 1 1 1 0 0 0    //    F8</span><br><span class="line">        补码：    1 1 1 1 1 0 0 1    //    F9</span><br></pre></td></tr></table></figure><h4><a id="__3"></a><a class="header-anchor" href="#有符号输的编码规则-总结：">¶</a><strong>有符号输的编码规则 总结：</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">原码：最高位为符号位，其余各位为数值的绝对值</span><br><span class="line">反码：</span><br><span class="line">        正数：反码与原码相同</span><br><span class="line">        负数：符号位为1，其余位对原码去反</span><br><span class="line">补码：</span><br><span class="line">        正数：补码与原码相同</span><br><span class="line">        负数：符号位为1，其余为对原码去反，将最终结果加1</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8/" class="post-title-link" itemprop="url">通用寄存器</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:37:17 / 修改时间：19:40:57" itemprop="dateCreated datePublished" datetime="2019-03-08T19:37:17+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/%E6%B1%87%E7%BC%96/" itemprop="url" rel="index"><span itemprop="name">汇编</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/%E9%80%9A%E7%94%A8%E5%AF%84%E5%AD%98%E5%99%A8/" class="leancloud_visitors" data-flag-title="通用寄存器"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><h1><a id="8font_colorred8font_1"></a>8位：（<font color="red">不能超过8位，否则超过的被丢弃</font>）</h1><table><thead><tr><th style="text-align:center">8位</th></tr></thead><tbody><tr><td style="text-align:center">AL</td></tr><tr><td style="text-align:center">BL</td></tr><tr><td style="text-align:center">CL</td></tr><tr><td style="text-align:center">DL</td></tr><tr><td style="text-align:center">AH</td></tr><tr><td style="text-align:center">BH</td></tr><tr><td style="text-align:center">CH</td></tr><tr><td style="text-align:center">DH</td></tr></tbody></table><h1><a id="16font_colorred16font_12"></a>16位：（<font color="red">不能超过16位，否则超过的被丢弃</font>）</h1><table><thead><tr><th style="text-align:center">16位</th></tr></thead><tbody><tr><td style="text-align:center">AX</td></tr><tr><td style="text-align:center">BX</td></tr><tr><td style="text-align:center">CX</td></tr><tr><td style="text-align:center">DX</td></tr><tr><td style="text-align:center">SP</td></tr><tr><td style="text-align:center">BP</td></tr><tr><td style="text-align:center">SI</td></tr><tr><td style="text-align:center">DI</td></tr></tbody></table><h1><a id="32font_colorred32font_23"></a>32位：（<font color="red">不能超过32位，否则超过的被丢弃</font>）</h1><table><thead><tr><th style="text-align:center">32位</th></tr></thead><tbody><tr><td style="text-align:center">EAX</td></tr><tr><td style="text-align:center">EBX</td></tr><tr><td style="text-align:center">ECX</td></tr><tr><td style="text-align:center">EDX</td></tr><tr><td style="text-align:center">EBP</td></tr><tr><td style="text-align:center">ESP</td></tr><tr><td style="text-align:center">EDI</td></tr><tr><td style="text-align:center">ESI</td></tr></tbody></table></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/" class="post-title-link" itemprop="url">汇编指令</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:35:09 / 修改时间：19:37:05" itemprop="dateCreated datePublished" datetime="2019-03-08T19:35:09+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/%E6%B1%87%E7%BC%96/" itemprop="url" rel="index"><span itemprop="name">汇编</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/" class="leancloud_visitors" data-flag-title="汇编指令"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><h1><a id="mov__1"></a>mov 向寄存器中赋值</h1><p><code>mov eax,1</code><br><code>mov eax,ebx</code></p><h2><a id="_6"></a><a class="header-anchor" href="#向内存中赋值">¶</a>向内存中赋值</h2><p><code>mov byte/dword【数据宽度】 ptr ds:[内存地址],1</code></p><h2><a id="_10"></a><a class="header-anchor" href="#将寄存器中的值写入到内存中">¶</a>将寄存器中的值写入到内存中</h2><p><code>mov dword ptr ds:[内存地址],eax</code></p><h2><a id="_14"></a><a class="header-anchor" href="#将内存中的值写到寄存器中">¶</a>将内存中的值写到寄存器中</h2><p><code>mov eax, dword ptr ds:[内存地址]</code></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/gateway-cors-%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/gateway-cors-%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">gateway cors 跨域配置</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:28:28 / 修改时间：19:34:59" itemprop="dateCreated datePublished" datetime="2019-03-08T19:28:28+08:00">2019-03-08</time> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/gateway-cors-%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/gateway-cors-%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/gateway-cors-%E8%B7%A8%E5%9F%9F%E9%85%8D%E7%BD%AE/" class="leancloud_visitors" data-flag-title="gateway cors 跨域配置"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><h1><a id="Spring_Cloud_Gateway_1"></a>方法一：Spring Cloud Gateway中处理跨域请求</h1><p><font color="red">Gateway的cors配置不一样，需要增加webFilter</font></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">package com.yunlsp.gateway.config;</span><br><span class="line">import org.springframework.context.annotation.Bean;</span><br><span class="line">import org.springframework.context.annotation.Configuration;</span><br><span class="line">import org.springframework.http.HttpHeaders;</span><br><span class="line">import org.springframework.http.HttpMethod;</span><br><span class="line">import org.springframework.http.HttpStatus;</span><br><span class="line">import org.springframework.http.server.reactive.ServerHttpRequest;</span><br><span class="line">import org.springframework.http.server.reactive.ServerHttpResponse;</span><br><span class="line">import org.springframework.web.cors.reactive.CorsUtils;</span><br><span class="line">import org.springframework.web.server.ServerWebExchange;</span><br><span class="line">import org.springframework.web.server.WebFilter;</span><br><span class="line">import org.springframework.web.server.WebFilterChain;</span><br><span class="line">import reactor.core.publisher.Mono;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line">/**</span><br><span class="line">* gateway CORS配置</span><br><span class="line">*</span><br><span class="line">* @author 蒋时华</span><br><span class="line">* @date 2018/10/11</span><br><span class="line">*/</span><br><span class="line">@Configuration</span><br><span class="line">public class ServiceCorsFilter &#123;</span><br><span class="line">private final StringALL =&quot;*&quot;;</span><br><span class="line">    private final StringMAX_AGE =&quot;18000L&quot;;</span><br><span class="line">    private final ListURL_LIST = Arrays.asList(</span><br><span class="line">            // 海博充值商品列表     </span><br><span class="line">            &quot;/prerecordService/public/prerecord/good/passportList&quot;,</span><br><span class="line">            // 海博充值下单</span><br><span class="line">            &quot;/prerecordService/prerecord/pay/passportOrder&quot;,</span><br><span class="line">            // 验证海博订单支付状态</span><br><span class="line">            &quot;/prerecordService/prerecord/pay/validOrderStatus&quot;,</span><br><span class="line">            // pc登录</span><br><span class="line">            &quot;/userService/public/user/pcLogin&quot;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    public WebFiltercorsFilter() &#123;</span><br><span class="line">            return (ServerWebExchange ctx, WebFilterChain chain) -&gt; &#123;</span><br><span class="line">                        ServerHttpRequest request = ctx.getRequest();</span><br><span class="line">                        if (!CorsUtils.isCorsRequest(request)) &#123;</span><br><span class="line">                            return chain.filter(ctx);</span><br><span class="line">                        &#125;</span><br><span class="line">                        // 是否是允许跨域的接口</span><br><span class="line">                        if(URL_LIST.contains(ctx.getRequest().getURI().getPath()))&#123;</span><br><span class="line">                            return chain.filter(ctx);</span><br><span class="line">                        &#125;</span><br><span class="line">                        HttpHeaders requestHeaders = request.getHeaders();</span><br><span class="line">                        ServerHttpResponse response = ctx.getResponse();</span><br><span class="line">                        HttpMethod requestMethod = requestHeaders.getAccessControlRequestMethod();</span><br><span class="line">                        HttpHeaders headers = response.getHeaders();</span><br><span class="line">                        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, requestHeaders.getOrigin());</span><br><span class="line">                        headers.addAll(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS,                         requestHeaders.getAccessControlRequestHeaders());</span><br><span class="line">                        if (requestMethod !=null) &#123;</span><br><span class="line">                            headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, requestMethod.name());</span><br><span class="line">                        &#125;</span><br><span class="line">                        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);                      headers.add(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, ALL);                       headers.add(HttpHeaders.ACCESS_CONTROL_MAX_AGE, MAX_AGE);</span><br><span class="line">                        if (request.getMethod() == HttpMethod.OPTIONS) &#123;                           response.setStatusCode(HttpStatus.OK);</span><br><span class="line">                            return Mono.empty();</span><br><span class="line">                        &#125;</span><br><span class="line">                        return chain.filter(ctx);</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1><a id="gatewayyml__get__5"></a>方法二：gateway.yml 配置文件【 此方式，只能使用get方式请求，问题暂时未知 】</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">spring:</span><br><span class="line">    cloud:</span><br><span class="line">        gateway:</span><br><span class="line">            ## 跨域配置，需要ServiceCorsFilter.java配置文件一起使用， 否则只能使用get请求</span><br><span class="line">            globalcors:</span><br><span class="line">                cors-configurations:</span><br><span class="line">                    &apos;[/prerecordService/public/prerecord/good/passportList]&apos;:</span><br><span class="line">                        allowedOrigins:&apos;*&apos;</span><br><span class="line">                        allowedMethods:</span><br><span class="line">                            - GET</span><br><span class="line">                            - OPTIONS</span><br><span class="line">                        allowedHeaders:</span><br><span class="line">                            - x-requested-with</span><br><span class="line">                            - Content-Type</span><br><span class="line">                            - content-type</span><br><span class="line">                        allowCredentials: false</span><br><span class="line">                        exposedHeaders:</span><br><span class="line">                            - Content-Type</span><br><span class="line">                            - content-type</span><br><span class="line">                            maxAge: 3600</span><br><span class="line">                    &apos;[........]&apos;</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/%E5%AE%89%E8%A3%85Chrome/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/%E5%AE%89%E8%A3%85Chrome/" class="post-title-link" itemprop="url">安装Chrome</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:25:57 / 修改时间：19:28:08" itemprop="dateCreated datePublished" datetime="2019-03-08T19:25:57+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/CentOS/" itemprop="url" rel="index"><span itemprop="name">CentOS</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/%E5%AE%89%E8%A3%85Chrome/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/%E5%AE%89%E8%A3%85Chrome/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/%E5%AE%89%E8%A3%85Chrome/" class="leancloud_visitors" data-flag-title="安装Chrome"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><p>官方网址：<a href="www.tecmint.com/install-google-chrome-on-redhat-centos-fedora-linux/">www.tecmint.com/install-google-chrome-on-redhat-centos-fedora-linux/</a></p><h1><a id="1_etcyumreposd__googlechromerepo_3"></a>1、在 <strong>/etc/yum.repos.d/</strong> 下创建 <strong>google-chrome.repo</strong></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[google-chrome]</span><br><span class="line">name=google-chrome</span><br><span class="line">baseurl=http://dl.google.com/linux/chrome/rpm/stable/$basearch</span><br><span class="line"> enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub</span><br></pre></td></tr></table></figure><h1><a id="2Chrome_6"></a>2、检查是否有Chrome信息</h1><p><code>yum info google-chrome-stable</code></p><h1><a id="3Chrome_9"></a>3、安装Chrome</h1><p><code>yum install google-chrome-stable --nogpg</code></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/CentOS%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%BA%90/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/CentOS%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%BA%90/" class="post-title-link" itemprop="url">CentOS常用的第三源</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:24:09 / 修改时间：19:25:51" itemprop="dateCreated datePublished" datetime="2019-03-08T19:24:09+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/CentOS/" itemprop="url" rel="index"><span itemprop="name">CentOS</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/CentOS%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%BA%90/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/CentOS%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%BA%90/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/CentOS%E5%B8%B8%E7%94%A8%E7%9A%84%E7%AC%AC%E4%B8%89%E6%BA%90/" class="leancloud_visitors" data-flag-title="CentOS常用的第三源"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><h1><a id="EPEL_1"></a>EPEL</h1><p>EPEL即Extra Packages for Enterprise Linux，为CentOS提供了额外的10000多个软件包，而且在不替换系统组件方面下了很多功夫，因而可以放心使用。</p><p><code>sudo yum install epel-release</code></p><h1><a id="Nux_Dextop_7"></a>Nux Dextop</h1><p>Nux Dextop中包含了一些与多媒体相关的软件包，作者尽量保证不覆盖base源。官方说明中说该源与EPEL兼容，实际上个别软件包存在冲突，但基本不会造成影响:</p><p><code>sudo rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpm</code></p><h1><a id="ELRepo_13"></a>ELRepo</h1><p>ELRepo包含了一些硬件相关的驱动程序，比如显卡、声卡驱动:</p><p><code>rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org# rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm</code></p><h1><a id="Remi_19"></a>Remi</h1><p>Remi源大家或许很少听说，不过Remi源GoFace强烈推荐，尤其对于不想编译最新版的linux使用者，因为Remi源中的软件几乎都是最新稳定版。或许您会怀疑稳定不？放心吧，这些都是Linux骨灰级的玩家编译好放进源里的，他们对于系统环境和软件编译参数的熟悉程度毋庸置疑。</p><p><code>rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm</code></p><h1><a id="RPMForge_25"></a>RPMForge</h1><p>RPMForge是CentOS系统下的软件仓库，拥有4000多种的软件包，被CentOS社区认为是最安全也是最稳定的一个软件仓库。</p><p><code>rpm -Uvh http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el7.rf.x86_64.rpm</code></p><p>RPMFusion</p><p>如果您现在正在使用Fedora 15，对RPMFusion一定不陌生吧，各种音频软件如MPlayer在标准源中是没有的，一般先安装RPMFusion源，之后就可以放便地yum install各种需要的软件啦。</p><h1><a id="RPMFusion_35"></a>添加阿里云的RPMFusion源</h1><p><code>sudo rpm -Uvh http://mirrors.aliyun.com/rpmfusion/free/el/updates/6/x86_64/rpmfusion-free-release-6-1.noarch.rpm$sudorpm -Uvh http://mirrors.aliyun.com/rpmfusion/nonfree/el/updates/6/x86_64/rpmfusion-nonfree-release-6-1.noarch.rpm</code></p><h1><a id="yumaxelget_39"></a>yum-axelget</h1><p>yum-axelget是EPEL提供的一个yum插件。使用该插件后用yum安装软件时可以并行下载，大大提高了软件的下载速度，减少了下载的等待时间:</p><p><code>yum install yum-axelget</code></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/%E5%88%A0%E9%99%A4CentOS%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E6%97%A7%E5%86%85%E6%A0%B8/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/%E5%88%A0%E9%99%A4CentOS%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E6%97%A7%E5%86%85%E6%A0%B8/" class="post-title-link" itemprop="url">删除CentOS更新后的旧内核</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:21:30 / 修改时间：19:23:50" itemprop="dateCreated datePublished" datetime="2019-03-08T19:21:30+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/CentOS/" itemprop="url" rel="index"><span itemprop="name">CentOS</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/%E5%88%A0%E9%99%A4CentOS%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E6%97%A7%E5%86%85%E6%A0%B8/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/%E5%88%A0%E9%99%A4CentOS%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E6%97%A7%E5%86%85%E6%A0%B8/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/%E5%88%A0%E9%99%A4CentOS%E6%9B%B4%E6%96%B0%E5%90%8E%E7%9A%84%E6%97%A7%E5%86%85%E6%A0%B8/" class="leancloud_visitors" data-flag-title="删除CentOS更新后的旧内核"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><p>在CentOS更新后,并不会自动删除旧内核。所以在启动选项中会有多个内核选项,可以手动使用以下命令删除多余的内核:</p><h3><a id="1_3"></a><a class="header-anchor" href="#1-查看系统当前内核版本">¶</a>1.查看系统当前内核版本:</h3><p><code>uname -a</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Linux localhost2.6.18-274.18.1.el5#1 SMP Thu Feb 9 12:45:52 EST 2012 i686 i686 i386 GNU/Linux</span><br></pre></td></tr></table></figure><h3><a id="2RPM_9"></a><a class="header-anchor" href="#2-查看系统中全部的内核rpm包">¶</a>2.查看系统中全部的内核RPM包:</h3><p><code>rpm -qa | grep kernel</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kernel-devel-2.6.18-194.el5</span><br><span class="line"></span><br><span class="line">kernel-devel-2.6.18-274.18.1.el5</span><br><span class="line"></span><br><span class="line">kernel-headers-2.6.18-274.18.1.el5</span><br><span class="line"></span><br><span class="line">kernel-2.6.18-194.el5</span><br><span class="line"></span><br><span class="line">kernel-2.6.18-274.18.1.el5</span><br></pre></td></tr></table></figure><h3><a id="3RPM_15"></a><a class="header-anchor" href="#3-删除旧内核的rpm包">¶</a>3.删除旧内核的RPM包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum remove kernel-2.6.18-194.el5</span><br><span class="line"></span><br><span class="line">yum remove kernel-devel-2.6.18-194.el5</span><br></pre></td></tr></table></figure><h3><a id="4_19"></a><a class="header-anchor" href="#4-重启系统">¶</a>4.重启系统</h3><p><code>reboot</code></p><p><font color="red">注意:不需要手动修改/boot/grub/menu.lst</font></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/%E5%A4%9A%E4%B8%AA%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%AF%BC%E8%87%B4@Transactional%E5%A4%B1%E6%95%88%E6%88%96%E6%8A%A5%E9%94%99/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/%E5%A4%9A%E4%B8%AA%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%AF%BC%E8%87%B4@Transactional%E5%A4%B1%E6%95%88%E6%88%96%E6%8A%A5%E9%94%99/" class="post-title-link" itemprop="url">多个事务配置，导致@Transactional失效或报错</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 19:19:00 / 修改时间：19:23:57" itemprop="dateCreated datePublished" datetime="2019-03-08T19:19:00+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/%E8%B8%A9%E8%BF%87%E7%9A%84%E5%9D%91/" itemprop="url" rel="index"><span itemprop="name">踩过的坑</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/%E5%A4%9A%E4%B8%AA%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%AF%BC%E8%87%B4@Transactional%E5%A4%B1%E6%95%88%E6%88%96%E6%8A%A5%E9%94%99/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/%E5%A4%9A%E4%B8%AA%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%AF%BC%E8%87%B4@Transactional%E5%A4%B1%E6%95%88%E6%88%96%E6%8A%A5%E9%94%99/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/%E5%A4%9A%E4%B8%AA%E4%BA%8B%E5%8A%A1%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%AF%BC%E8%87%B4@Transactional%E5%A4%B1%E6%95%88%E6%88%96%E6%8A%A5%E9%94%99/" class="leancloud_visitors" data-flag-title="多个事务配置，导致@Transactional失效或报错"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"></span><br><span class="line">* 默认使用jdcb的事务，jms的事务不会被默认使用，如果使用需要指定 value</span><br><span class="line"></span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">@Bean(name =&quot;jdbcTXManager&quot;)</span><br><span class="line"></span><br><span class="line">@Primary</span><br><span class="line"></span><br><span class="line">public PlatformTransactionManagerdataSourceTransactionManager(DataSource dataSource)&#123;</span><br><span class="line"></span><br><span class="line">DataSourceTransactionManager dataSourceTransactionManager =new DataSourceTransactionManager();</span><br><span class="line"></span><br><span class="line">    dataSourceTransactionManager.setDataSource(dataSource);</span><br><span class="line"></span><br><span class="line">    return dataSourceTransactionManager;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"></span><br><span class="line">* jms事务管理</span><br><span class="line"></span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">@Bean</span><br><span class="line"></span><br><span class="line">public JmsTransactionManager jmsTransactionManager()&#123;</span><br><span class="line"></span><br><span class="line">JmsTransactionManager jmsTransactionManager =new JmsTransactionManager(activeMQConnectionFactory);</span><br><span class="line"></span><br><span class="line">    return jmsTransactionManager;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">使用JMS事务：@Transactional(value =&quot;jmsTransactionManager&quot;)</span><br><span class="line">使用数据库事务：@Transactional(value =&quot;jdbcTXManager&quot;)</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/08/MarkDown%20%E8%AF%AD%E6%B3%95/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/08/MarkDown%20%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">MarkDown 语法</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-08 00:47:02" itemprop="dateCreated datePublished" datetime="2019-03-08T00:47:02+08:00">2019-03-08</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-10-23 17:04:51" itemprop="dateModified" datetime="2019-10-23T17:04:51+08:00">2019-10-23</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/08/MarkDown%20%E8%AF%AD%E6%B3%95/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/08/MarkDown%20%E8%AF%AD%E6%B3%95/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/08/MarkDown%20%E8%AF%AD%E6%B3%95/" class="leancloud_visitors" data-flag-title="MarkDown 语法"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><h1><a id="__0"></a>* 标题</h1><h1><a id="_1"></a><code>#</code>一级标题</h1><h2><a id="_2"></a><a class="header-anchor" href="#二级标题">¶</a><code>##</code>二级标题</h2><h3><a id="_3"></a><a class="header-anchor" href="#三级标题">¶</a><code>###</code>三级标题</h3><h4><a id="_4"></a><a class="header-anchor" href="#四级标题">¶</a><code>####</code>四级标题</h4><h5><a id="_5"></a><a class="header-anchor" href="#五级标题">¶</a><code>#####</code>五级标题</h5><h6><a id="_6"></a><a class="header-anchor" href="#六级标题">¶</a><code>######</code>六级标题</h6><br># * 无序列表 #### 用法： `*` `+` `-`<br># * 有序列表 #### 用法：数字 + 英文的点（.）<br># * 区块引用 eg: 这是测试 > 哇哈哈 >> 啊啊啊 >>> aaaaa >>>> bbbb >>>>> cccc >>>>>> dddd >>>>>>> eeee<h4><a id="___27"></a><a class="header-anchor" href="#用法：符号-多层就用多个">¶</a>用法：符号 &gt; (多层就用多个&gt;)</h4><br># * 链接 [测试百度链接](https://www.baidu.com/) #### 用法： `[说明文字](链接)`<br># * 图片 ![测试图片](https://images2015.cnblogs.com/blog/600165/201701/600165-20170121185054312-549083784.png) #### 用法： `![说明文字](图片链接)`<br># * 代码框、注释 `这是单行代码` #### 用法：\`单行内容\` 一个单引号包裹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是多行代码</span><br><span class="line">1行代码</span><br><span class="line">2行代码</span><br></pre></td></tr></table></figure>#### 用法： \`\`\`多行内容\`\`\` 三个引号包裹 (前三个单引号后可以写注释)<br># * 表格 |表头1|表头1|表头1| |:---:|:---:|:---:| |数据1|数据1|数据1| |数据2|数据2|数据2| #### 用法：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|表头1|表头1|表头1|</span><br><span class="line">|:---:|:---:|:---:|</span><br><span class="line">|数据1|数据1|数据1|</span><br><span class="line">|数据2|数据2|数据2|</span><br></pre></td></tr></table></figure><br># * 强调 *字体倾斜* #### 用法：`*字体倾斜*` _字体倾斜_ #### 用法：`_字体倾斜_` **字体加粗** #### 用法：`**字体加粗**` __字体加粗__ #### 用法：`__字体加粗__`<br># * 转义 * \\ * \` * \~ * \* * \_ * \- * \+ * \. * \! #### 用法：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* \\</span><br><span class="line">* \`</span><br><span class="line">* \~</span><br><span class="line">* \*</span><br><span class="line">* \_</span><br><span class="line">* \-</span><br><span class="line">* \+</span><br><span class="line">* \.</span><br><span class="line">* \!</span><br></pre></td></tr></table></figure><br># * 删除线 ~~已经删除了~~ #### 用法：`~~已经删除了~~`<h1><a id="_78"></a>其他用法</h1><h2><a id="Markdown_79"></a><a class="header-anchor" href="#markdown中如何实现内容折叠操作">¶</a>Markdown中如何实现内容折叠操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;details&gt;</span><br><span class="line">&lt;summary&gt;展开查看&lt;/summary&gt;</span><br><span class="line">&lt;pre&gt;&lt;code&gt;</span><br><span class="line"></span><br><span class="line">System.out.println(&quot;需要包裹的东西&quot;);</span><br><span class="line"></span><br><span class="line">&lt;/code&gt;&lt;/pre&gt;</span><br><span class="line">&lt;/details&gt;</span><br></pre></td></tr></table></figure><p>预览效果：<br><img src="https://raw.githubusercontent.com/jeff-eric/images_bed/master/blog/20190508215442216.gif" alt></p></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://jeff-eric.github.com/blog/blog/2019/03/07/window%EF%BC%9AMySQL-5-7%E5%85%8D%E7%BB%BF%E8%89%B2%E7%89%88%E5%AE%89%E8%A3%85/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jeff-Eric"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/uploads/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="纯天然绿色学渣"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"><a href="/blog/2019/03/07/window%EF%BC%9AMySQL-5-7%E5%85%8D%E7%BB%BF%E8%89%B2%E7%89%88%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">window：MySQL-5-7免绿色版安装</a></h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-07 19:35:20" itemprop="dateCreated datePublished" datetime="2019-03-07T19:35:20+08:00">2019-03-07</time> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-03-08 10:32:25" itemprop="dateModified" datetime="2019-03-08T10:32:25+08:00">2019-03-08</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span> </span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">评论数：</span> <a href="/blog/2019/03/07/window%EF%BC%9AMySQL-5-7%E5%85%8D%E7%BB%BF%E8%89%B2%E7%89%88%E5%AE%89%E8%A3%85/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/blog/2019/03/07/window%EF%BC%9AMySQL-5-7%E5%85%8D%E7%BB%BF%E8%89%B2%E7%89%88%E5%AE%89%E8%A3%85/" itemprop="commentCount"></span> </a></span><span id="/blog/2019/03/07/window%EF%BC%9AMySQL-5-7%E5%85%8D%E7%BB%BF%E8%89%B2%E7%89%88%E5%AE%89%E8%A3%85/" class="leancloud_visitors" data-flag-title="window：MySQL-5-7免绿色版安装"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div></header><div class="post-body han-init-context" itemprop="articleBody"><p>1、配置环境变量</p><p>2、配置MySQL配置文件</p><p><img src="/blog/.com//%E9%85%8D%E7%BD%AE%E5%9B%BE.png" alt="配置图"></p><p>3、初始化</p><pre><code>    以管理员身份运行cmd，进入bin目录

    输入：mysqld -install （如果不用管理员身份运行，将会因为权限不够而出现错误：Install/Remove of the Service Denied!）

    然后输入：mysqld --initialize-insecure --user=mysql （此操作会初始化data文件夹，如果不执行此操作，一般都会无法启动MySql服务）
</code></pre><p>4、更新密码</p><pre><code>    放开 skip-grant-tables , 启动服务（net start mysql）

    执行 mysql -u root -p , 还不输入密码直接进入

        update mysql.user set authentication_string=password('root') where user='root' ;

        commit;
</code></pre><p>注意：</p><pre><code>    MySQL报错：The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement

        解决办法：

            set global read_only=0;、（关掉新主库的只读属性）

            flush privileges;

    注释 skip-grant-tables，停止服务（net stop mysql）,重启服务（net start mysql），使用密码正常登陆</code></pre></div><footer class="post-footer"><div class="post-eof"></div></footer></div></article></section><nav class="pagination"><a class="extend prev" rel="prev" href="/blog/page/3/">&lt;i class=&quot;fa fa-angle-left&quot; aria-label=&quot;上一页&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/blog/page/5/">5</a><a class="extend next" rel="next" href="/blog/page/5/">&lt;i class=&quot;fa fa-angle-right&quot; aria-label=&quot;下一页&quot;&gt;&lt;&#x2F;i&gt;</a></nav></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><div class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/blog/uploads/avatar.jpg" alt="Jeff-Eric"><p class="site-author-name" itemprop="name">Jeff-Eric</p><div class="site-description motion-element" itemprop="description"></div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/blog/archives/%20%7C%7C%20archive"><span class="site-state-item-count">42</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/blog/categories/%20%7C%7C%20th"><span class="site-state-item-count">12</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/blog/tags/%20%7C%7C%20tags"><span class="site-state-item-count">28</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/jeff-eric" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;jeff-eric" rel="noopener" target="_blank">&lt;i class=&quot;fa fa-fw fa-github&quot;&gt;&lt;&#x2F;i&gt;GitHub</a> </span><span class="links-of-author-item"><a href="/blog/jphoebe4086824@gmail.com" title="E-Mail &amp;rarr; jphoebe4086824@gmail.com">&lt;i class=&quot;fa fa-fw fa-envelope&quot;&gt;&lt;&#x2F;i&gt;E-Mail</a></span></div><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank">&lt;img src=&quot;&#x2F;blog&#x2F;images&#x2F;cc-by-nc-sa.svg&quot; alt=&quot;Creative Commons&quot;&#x2F;&gt;</a></div></div></div><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Jeff-Eric</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.0.0</div><span class="post-meta-divider">|</span><div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.0.1</div></div></footer><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script><script id="ribbon" size="300" alpha="0.6" zindex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script><script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three-waves.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_lines.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_sphere.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress@1/reading_progress.min.js"></script><script src="/blog/js/src/utils.js?v=7.0.1"></script><script src="/blog/js/src/motion.js?v=7.0.1"></script><script src="/blog/js/src/affix.js?v=7.0.1"></script><script src="/blog/js/src/schemes/pisces.js?v=7.0.1"></script><script src="/blog/js/src/next-boot.js?v=7.0.1"></script><script src="/blog/js/src/js.cookie.js?v=7.0.1"></script><script src="/blog/js/src/scroll-cookie.js?v=7.0.1"></script><script src="//cdn.jsdelivr.net/npm/quicklink@1.0.0/dist/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
      
        quicklink({
          timeout: 3000,
          priority: true,
          ignores: [uri => uri.includes('#'),uri => uri == 'https://jeff-eric.github.com/blog/page/4/',]
        });
      
        });</script><script src="//cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js"></script><script>var GUEST=["nick","mail","link"],guest="nick,mail,link";guest=guest.split(",").filter(function(e){return GUEST.indexOf(e)>-1}),new Valine({el:"#comments",verify:!0,notify:!1,appId:"MKGyMx7EafphCr9hAbMPAwAc-gzGzoHsz",appKey:"4SB8MPoE51bFPHDoKtPM8vLG",placeholder:"Just go go",avatar:"mm",meta:guest,pageSize:"10",visitor:!0})</script><script>function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var e=$("#local-search-input");e.attr("autocapitalize","none"),e.attr("autocorrect","off"),e.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/blog/"+search_path,onPopupClose=function(e){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(e,t,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:e,dataType:isXml?"xml":"json",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():e,r=document.getElementById(t),s=document.getElementById(o),a=function(){var e=r.value.trim().toLowerCase(),t=e.split(/[\s\-]+/);t.length>1&&t.push(e);var o=[];if(e.length>0&&n.forEach(function(n){function r(t,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===e&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(e,t){var o="",n=t.start;return t.hits.forEach(function(t){o+=e.substring(n,t.position);var r=t.position+t.length;o+='<b class="search-keyword">'+e.substring(t.position,r)+"</b>",n=r}),o+=e.substring(n,t.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url).replace(/\/{2,}/g,"/"),d=[],g=[];if(""!=l&&(t.forEach(function(e){function t(e,t,o){var n=e.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(t=t.toLowerCase(),e=e.toLowerCase());(s=t.indexOf(e,r))>-1;)a.push({position:s,word:e}),r=s+n;return a}d=d.concat(t(e,h,!1)),g=g.concat(t(e,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(e){e.sort(function(e,t){return t.position!==e.position?t.position-e.position:e.word.length-t.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hits.length!==t.hits.length?t.hits.length-e.hits.length:e.start-t.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(e){b+="<a href='"+f+'\'><p class="search-result">'+s(p,e)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===t.length&&""===t[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x"></i></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>';else{o.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hitCount!==t.hitCount?t.hitCount-e.hitCount:t.id-e.id});var a='<ul class="search-result-list">';o.forEach(function(e){a+=e.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(e){e.stopPropagation()}),$(document).on("keyup",function(e){var t=27===e.which&&$(".search-popup").is(":visible");t&&onPopupClose()})</script><script src="https://www.gstatic.com/firebasejs/4.6.0/firebase.js"></script><script src="https://www.gstatic.com/firebasejs/4.6.0/firebase-firestore.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.5.1/bluebird.core.min.js"></script><script>!function(){function getCount(t,e){return t.get().then(function(s){var a;return s.exists?(a=s.data().count,e&&(window.localStorage&&window.localStorage.getItem(title)||(t.set({count:a+1}),a++))):e?(t.set({count:1}),a=1):a=0,window.localStorage&&e&&localStorage.setItem(title,!0),a})}function appendCountTo(t){return function(e){$(t).append($("<span>").addClass("post-visitors-count").append($("<span>").addClass("post-meta-divider").text("|")).append($("<span>").addClass("post-meta-item-icon").append($("<i>").addClass("fa fa-users"))).append($("<span>").text("阅读次数 "+e)))}}firebase.initializeApp({apiKey:"AIzaSyD-BIMnFQcvrv1utthoP5z5shcYP8JMKmY",projectId:"blog-6cbe0"});var db=firebase.firestore(),articles=db.collection("articles"),isPost="".length>0,isArchive=!1,isCategory="".length>0,isTag="".length>0;if(isPost){var title="",doc=articles.doc(title);getCount(doc,!0).then(appendCountTo($(".post-meta")))}else if(!isArchive&&!isCategory&&!isTag){var titles=[],postsstr='titles.push("汇编的有符号数和无符号数");titles.push("通用寄存器");titles.push("汇编指令");titles.push("gateway cors 跨域配置");titles.push("安装Chrome");titles.push("CentOS常用的第三源");titles.push("删除CentOS更新后的旧内核");titles.push("多个事务配置，导致@Transactional失效或报错");titles.push("MarkDown 语法");titles.push("window：MySQL-5-7免绿色版安装");';eval(postsstr);var promises=titles.map(function(t){return articles.doc(t)}).map(function(t){return getCount(t)});Promise.all(promises).then(function(t){var e=$(".post-meta");t.forEach(function(t,s){appendCountTo(e[s])(t)})})}}()</script><style>.pdfobject-container{position:relative;overflow:auto;width:100%}</style><script>$("body").find("div.pdf").length&&$.ajax({type:"GET",url:"//cdn.jsdelivr.net/npm/pdfobject@2.1.1/pdfobject.min.js",dataType:"script",cache:!0,success:function(){$("body").find("div.pdf").each(function(e,t){PDFObject.embed($(t).attr("target"),$(t),{pdfOpenParams:{navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"},PDFJS_URL:"/lib/pdf/web/viewer.html",height:$(t).attr("height")||"500px"})})}})</script><script>$("body").find("pre.mermaid").length&&$.ajax({type:"GET",url:"//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js",dataType:"script",cache:!0,success:function(){mermaid.initialize({theme:"forest",logLevel:3,flowchart:{curve:"linear"},gantt:{axisFormat:"%m/%d/%Y"},sequence:{actorMargin:50}})}})</script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script><script>pbOptions={},pbOptions.iconStyle="box",pbOptions.boxForm="horizontal",pbOptions.position="bottomCenter",pbOptions.networks="Weibo,Wechat,Douban,QQZone,Twitter,Facebook",new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={},flOptions.iconStyle="box",flOptions.boxForm="horizontal",flOptions.position="middleRight",flOptions.networks="Weibo,Wechat,Douban,QQZone,Twitter,Facebook",new needShareButton("#needsharebutton-float",flOptions)</script><script src="//cdn.jsdelivr.net/npm/pangu@3/dist/browser/pangu.min.js"></script><script>pangu.spacingPage()</script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script><script>bookmark.loadBookmark()</script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>$(".highlight").each(function(t,e){var n=$("<div>").addClass("highlight-wrap");$(e).after(n),n.append($("<button>").addClass("copy-btn").append("复制").on("click",function(t){var e=$(this).parent().find(".code").find(".line").map(function(t,e){return $(e).text()}).toArray().join("\n"),n=document.createElement("textarea"),o=window.pageYOffset||document.documentElement.scrollTop;n.style.top=o+"px",n.style.position="absolute",n.style.opacity="0",n.readOnly=!0,n.value=e,document.body.appendChild(n),n.select(),n.setSelectionRange(0,e.length),n.readOnly=!1;var a=document.execCommand("copy");a?$(this).text("复制成功"):$(this).text("复制失败"),n.blur(),$(this).blur()})).on("mouseleave",function(t){var e=$(this).find(".copy-btn");setTimeout(function(){e.text("复制")},300)}).append(e)})</script></body></html><!-- rebuild by neat -->